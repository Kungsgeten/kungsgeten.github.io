@import url("https://fonts.googleapis.com/css?family=Alegreya+SC|Alegreya:400,400i,700|Cousine");

sidenote_width = 238px

// Media query breakpoints
small = 460px
medium = 530px
big = 560px
sidenotesmin = 900px
desktop = 1150px

// Colors
bgcolor = #F3F3E7
fontcolor = darken(#424234, 50%)

html
  padding 0
  margin 0

body
  margin 0
  padding 0
  font-family "Alegreya", serif
  font-size 18px
  color fontcolor
  background-color bgcolor
  @media screen and (min-width: medium)
    font-size 21px

section
  margin-top 1em
  p
    margin 0.15em 0
    + p
      text-indent 1.5em

h1
h2
h3
h4
  font-weight normal

h2.footnotes
  font-family "Alegreya SC"
  font-size 100%
  border-bottom none
  border-top 2px solid grey

.blogcategory
  h2
    border-bottom 2px solid lighten(fontcolor, 80%)
    margin-bottom 0.5em
  ul
    list-style-type none
    padding-left 0
    margin-left 2.5em
    text-indent -2.5em
  h3
    font-size 1em
    padding 0
    margin 0

.todo
  color blue
  margin-right 0.3em
  border 1px solid lighten(fontcolor, 60%)
  padding 2px

.timestamp
  color lighten(fontcolor, 60%)

header
  margin 10px

a
  color fontcolor
  -webkit-transition 0.3s
 	-moz-transition 0.3s
 	-ms-transition 0.3s
 	-o-transition 0.3s
  transition 0.3s
  &:hover
    background-color darken(bgcolor, 20%)

#content
#postamble
  margin auto
  margin-bottom 1.5em
  padding 0 0.5em
  @media screen and (min-width: small)
    padding 0 2em
  @media screen and (min-width: medium)
    max-width big

#table-of-contents
  a
    text-decoration none
    font-family "Alegreya SC", "Alegreya", serif
  ul
    list-style-type none
    padding-left 0

// Code
pre
code
  font-family: "Cousine", monospace
pre
  font-size 60%
  background-color: #ffffff
  padding 3pt
  margin 1.2em 0em
  @media screen and (min-width: small)
    margin 1.2em -2.3em

code
  font-size 85%
  background-color: #E6E6DA
  border 1px solid #ccc

// Tables
table-shade = #f2f2f2

table
  margin auto
  margin-top 1em
  margin-bottom 1em
  + table
    margin-top 2em

th, td
  padding 0 0.25em

tr:nth-child(odd)
  background-color table-shade

th
  background-color darken(table-shade, 10%)
  padding 0.3em 0
  border-bottom 2px solid
  border-top 2px solid

.underline
  font-family: "Alegreya SC", sans-serif
  text-transform lowercase
  letter-spacing 0.5px
  text-decoration none

.title
  margin 0px

.subtitle
  font-style italic
  font-weight normal
  font-size 100%
  margin 0

#preamble
  background-color darken(bgcolor, 10%)

#head
  margin auto
  font-family "Alegreya SC", sans-serif
  a
    text-decoration none
  @media screen and (min-width: medium)
    max-width big
  >h1
    font-size 120%
    font-weight normal
    display inline
  >ul
    display inline
    list-style-type none
    margin 0
    padding 0
    li
      display inline
      padding-right 10px

// Side- and footnotes

sup
  vertical-align baseline
  position relative
  top -0.4em

.footref
.footnum
  &::before
    content "["
  &::after
    content "]"

.sidenote
  display none
  position absolute
  left "calc(50% + %s / 2 + 30px)" % big
  width sidenote_width
  text-indent 0
  font-size 85%
  figure
    padding 0
    margin 0
  img
    max-width sidenote-width
    width 100%
    height auto
  p.footpara:not(:first-child)
    display block

@media screen and (min-width: sidenotesmin)
  #content.has-sidenotes #footnotes
    display none
  #content.has-sidenotes .sidenote
    display inline
    // .footnum
    //   display none
  #content.has-sidenotes
    position relative
    left -13%

@media screen and (min-width: desktop)
  #content.has-sidenotes
    left 0

.figure-number
  display none